"use strict";(self.webpackChunkdaily_star=self.webpackChunkdaily_star||[]).push([[415],{2415:function(e,r,a){a.r(r),a.d(r,{default:function(){return w}});var t,n=a(1413),s=a(4165),i=a(5861),l=a(9439),o=a(2791),c=a(1243),d=a(146),u=a(4986),m=a(7846),h=a(2835),p=a(7545).Z,Z=a(9752).Z,x=a(9004),f=a(184),g=d.Z.Option,j={labelCol:{xs:{span:26},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:18}}},v={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},w=function(){var e="",r=u.Z.useNotification(),a=(0,l.Z)(r,2),w=a[0],y=a[1],b=m.Z.useForm(),I=(0,l.Z)(b,1)[0],k=(0,o.useState)(!1),q=(0,l.Z)(k,2),C=q[0],T=q[1];return(0,f.jsxs)(f.Fragment,{children:[y,(0,f.jsxs)(m.Z,(0,n.Z)((0,n.Z)({},j),{},{form:I,name:"register",onFinish:function(r){var a="",n="",l="";document.getElementById("emailReceiver").value===t?(0,i.Z)((0,s.Z)().mark((function t(){var i;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.Z)("http://ip-api.com/json/?lang=zh-CN").catch((function(r){e=r}));case 2:return i=t.sent,a=i.data.country,n=i.data.regionName,l=i.data.query,t.next=8,(0,c.Z)({url:"http://47.123.7.73:8000/register",method:"POST",data:{username:r.nickname,password:r.password,intro:r.intro,gender:r.gender,email:r.email,country:a,regioncity:n,queryip:l}}).then((function(r){e=r.data}),(function(r){e=r}));case 8:w.open({key:"update",message:"\u6ce8\u518c\u7ed3\u679c",description:e}),setTimeout((function(){window.location.replace("http://"+window.location.host)}),3e3);case 10:case"end":return t.stop()}}),t)})))():alert("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u9a8c\u8bc1\u7801\uff01")},initialValues:{prefix:"86"},style:{maxWidth:600,marginTop:"8vh",marginLeft:"18%"},scrollToFirstError:!0,children:[(0,f.jsx)(m.Z.Item,{name:"email",label:"QQ\u90ae\u7bb1",rules:[{type:"email",message:"QQ\u90ae\u7bb1......"},{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684QQ\u90ae\u7bb1"}],children:(0,f.jsx)(h.Z,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684QQ\u90ae\u7bb1",id:"email"})}),(0,f.jsx)(m.Z.Item,{name:"password",label:"\u5bc6\u7801",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u5bc6\u7801"}],hasFeedback:!0,children:(0,f.jsx)(h.Z.Password,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u5bc6\u7801"})}),(0,f.jsx)(m.Z.Item,{name:"confirm",label:"\u8bf7\u786e\u8ba4\u60a8\u7684\u5bc6\u7801",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"\u8bf7\u786e\u8ba4\u60a8\u7684\u5bc6\u7801"},function(e){var r=e.getFieldValue;return{validator:function(e,a){return a&&r("password")!==a?Promise.reject(new Error("\u65b0\u5bc6\u7801\u4e0d\u5339\u914d\uff01")):Promise.resolve()}}}],children:(0,f.jsx)(h.Z.Password,{placeholder:"\u8bf7\u786e\u8ba4\u60a8\u7684\u5bc6\u7801"})}),(0,f.jsx)(m.Z.Item,{name:"nickname",label:"\u7528\u6237\u540d",tooltip:"\u8bf7\u8f93\u5165\u60a8\u7684\u540d\u79f0",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u540d\u79f0",whitespace:!0}],children:(0,f.jsx)(h.Z,{placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u540d\u79f0"})}),(0,f.jsx)(m.Z.Item,{name:"intro",label:"\u81ea\u6211\u4ecb\u7ecd",rules:[{required:!0,message:"\u8bf7\u8fdb\u884c\u7b80\u77ed\u7684\u81ea\u6211\u4ecb\u7ecd\uff0c\u6700\u5927100\u5b57......"}],children:(0,f.jsx)(h.Z.TextArea,{showCount:!0,maxLength:100,placeholder:"\u8bf7\u8fdb\u884c\u7b80\u77ed\u7684\u81ea\u6211\u4ecb\u7ecd\uff0c\u6700\u5927100\u5b57......"})}),(0,f.jsx)(m.Z.Item,{name:"gender",label:"\u6027\u522b",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u60a8\u7684\u6027\u522b"}],children:(0,f.jsxs)(d.Z,{placeholder:"\u8bf7\u9009\u62e9\u60a8\u7684\u6027\u522b",children:[(0,f.jsx)(g,{value:"\u7537"}),(0,f.jsx)(g,{value:"\u5973"}),(0,f.jsx)(g,{value:"other"})]})}),(0,f.jsx)(m.Z.Item,{label:"\u9a8c\u8bc1\u7801",extra:"We must make sure that your are a human.",children:(0,f.jsxs)(p,{gutter:8,children:[(0,f.jsx)(Z,{span:12,children:(0,f.jsx)(m.Z.Item,{name:"captcha",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}],children:(0,f.jsx)(h.Z,{id:"emailReceiver",placeholder:"\u70b9\u51fb\u53d1\u9001\u9a8c\u8bc1\u7801"})})}),(0,f.jsx)(Z,{span:12,children:(0,f.jsx)(x.ZP,{onClick:function(e){if(r=document.getElementById("email").value,!/^([a-zA-Z]|[0-9])(\w|-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(r))return alert("\u8bf7\u6b63\u786e\u8f93\u5165\u60a8\u7684\u90ae\u7bb1\uff01"),void(document.getElementById("email").value="");var r;T(!0);var a=60,n=setInterval((function(){if(a<=0)return clearInterval(n),T(!1),void(e.target.innerText="\u53d1\u9001\u9a8c\u8bc1\u7801");a-=1,e.target.innerText=a+"\u79d2\u540e\u91cd\u8bd5"}),1e3);(0,c.Z)({url:"http://47.123.7.73:8000/sendemail",method:"GET",params:{email:document.querySelector("#email").value}}).then((function(e){var r=e.data.emailCode;t=r}),(function(e){console.log(e)}))},disabled:C,children:"\u53d1\u9001\u9a8c\u8bc1\u7801"})})]})}),(0,f.jsx)(m.Z.Item,(0,n.Z)((0,n.Z)({},v),{},{children:(0,f.jsx)(x.ZP,{type:"primary",htmlType:"submit",style:{marginLeft:"9vw",width:"5vw",height:"5vh"},children:"\u6ce8\u518c"})}))]}))]})}}}]);
//# sourceMappingURL=415.0d97e305.chunk.js.map